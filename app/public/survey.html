<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Max's FriendFinder Survey</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
</head>
<body>
	<div class="container">
		<h2>Survey Questions</h2>
		<hr>
		<h3><strong>About You</strong></h3>
		<h4>Name (Required)</h4>
		<div class="input-group-md">
		  	<input type="text" name="name" class="form-control" required autofocus>
		</div>
		<h4>Link to Photo Image (Required, If you don't use an actual link, you're a monkey!)</h4>
		<div class="input-group-md">
		  	<input type="text" name="photo" class="form-control" required>
		</div>
		<hr>
		<h3><strong>Question 1</strong></h3>
		<h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
		<label class="radio-inline"><input type="radio" name="optradio1" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio1" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio1" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio1" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio1" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 2</strong></h3>
		<h4>Generally speaking, you rely more on your experience than your imagination.</h4>
		<label class="radio-inline"><input type="radio" name="optradio2" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio2" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio2" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio2" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio2" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 3</strong></h3>
		<h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
		<label class="radio-inline"><input type="radio" name="optradio3" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio3" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio3" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio3" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio3" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 4</strong></h3>
		<h4>You rarely do something just out of sheer curiosity.</h4>
		<label class="radio-inline"><input type="radio" name="optradio4" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio4" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio4" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio4" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio4" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 5</strong></h3>
		<h4>People can rarely upset you.</h4>
		<label class="radio-inline"><input type="radio" name="optradio5" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio5" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio5" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio5" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio5" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 6</strong></h3>
		<h4>It is often difficult for you to relate to other people’s feelings.</h4>
		<label class="radio-inline"><input type="radio" name="optradio6" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio6" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio6" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio6" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio6" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 7</strong></h3>
		<h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
		<label class="radio-inline"><input type="radio" name="optradio7" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio7" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio7" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio7" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio7" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 8</strong></h3>
		<h4>You rarely get carried away by fantasies and ideas.</h4>
		<label class="radio-inline"><input type="radio" name="optradio8" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio8" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio8" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio8" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio8" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 9</strong></h3>
		<h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
		<label class="radio-inline"><input type="radio" name="optradio9" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio9" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio9" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio9" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio9" value="5" required>5 (Strongly Agree)</label>

		<h3><strong>Question 10</strong></h3>
		<h4>You feel more energetic after spending time with a group of people.</h4>
		<label class="radio-inline"><input type="radio" name="optradio10" value="1" required>1 (Strongly Disagree)</label>
		<label class="radio-inline"><input type="radio" name="optradio10" value="2" required>2</label>
		<label class="radio-inline"><input type="radio" name="optradio10" value="3" required>3</label>
		<label class="radio-inline"><input type="radio" name="optradio10" value="4" required>4</label>
		<label class="radio-inline"><input type="radio" name="optradio10" value="5" required>5 (Strongly Agree)</label>

		<br>
		<br>

		<button id="submit" type="submit" class="btn btn-primary btn-lg btn-block" role="button"><i class="fa fa-check-circle"></i> Submit</button>

		<hr>

		<footer>
			<div class="container">
				<p><a href="/api/friends">API Friends List</a> | <a href="#">GitHub Repo</a></p>
			</div>
		</footer>

	</div>

	<!-- Modal -->
	<div id="compatibleFriend" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    <!-- Modal content-->
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal">&times;</button>
	        <h3 class="modal-title">Friend Finder Results</h3>
	      </div>
	      <div class="modal-body">
	        <h4 id="friendName">The Creator: You're the first one to take the survey! Here's a picture of me!</h4>
	        <img id="friendImg" src="https://avatars0.githubusercontent.com/u/29668529?s=460&v=4" alt="The Creator" onError="src='https://i.guim.co.uk/img/media/b41ed9c5402b88334d3e766850679cb987054a6b/0_267_2000_2500/master/2000.jpg?w=700&q=55&auto=format&usm=12&fit=max&s=b72b8cbf15efd3e7cab052484c1e53c7'">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>

	  </div>
	</div>

	<script type="text/javascript">
		$("#submit").on("click", function(event) {
			event.preventDefault();
			var name = $("input[name=name").val().trim();
			var photo = $("input[name=photo").val().trim();
			var scores = [];
			var ans1 = $("input[name=optradio1]:checked").val();
			var ans2 = $("input[name=optradio2]:checked").val();
			var ans3 = $("input[name=optradio3]:checked").val();
			var ans4 = $("input[name=optradio4]:checked").val();
			var ans5 = $("input[name=optradio5]:checked").val();
			var ans6 = $("input[name=optradio6]:checked").val();
			var ans7 = $("input[name=optradio7]:checked").val();
			var ans8 = $("input[name=optradio8]:checked").val();
			var ans9 = $("input[name=optradio9]:checked").val();
			var ans10 = $("input[name=optradio10]:checked").val();
			scores.push(ans1, ans2, ans3, ans4, ans5, ans6, ans7, ans8, ans9, ans10);
			var required = function() {
				for (var i = 0; i < 10; i++) {
					if (scores[i] === undefined) {
						return false;
					};
				};
				return true;
			};
			if (name === "" || photo === "" || !required()) {
				alert("Please fill out all fields");
				return;
			};
			var friend = {
				name: name,
				photo: photo,
				scores: scores
			};
			$.post("/api/friends", friend).done(function(data) {
				$("#friendName").html(data.name);
				$("#friendImg").attr("src", data.photo);
				$("#friendImg").width(400).height(500);
				$("#compatibleFriend").modal("show");
			});
		});
	</script>

</body>
</html>